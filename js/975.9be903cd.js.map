{"version":3,"file":"js/975.9be903cd.js","mappings":"0nBA6JA,MAAMA,GAAQC,EAAAA,EAAAA,KACRC,GAAUC,EAAAA,EAAAA,KAAI,GACdC,GAAQD,EAAAA,EAAAA,IAAI,IACZE,GAAOF,EAAAA,EAAAA,IAAI,GACXG,GAAaH,EAAAA,EAAAA,IAAI,KAGvBI,EAAAA,EAAAA,KAAUC,UACR,IACE,MAAMC,QAAuBC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,gBAE9CC,EAAW,GAEjBJ,EAAeK,SAASC,IAClBA,EAAKC,OAAOC,gBAAkBjB,EAAMkB,SAASC,KAC/CN,EAASO,KACP,IAAIC,SAASC,IACXlB,EAAMmB,MAAMH,KAAK,IAAKL,EAAKC,OAAQQ,GAAIT,EAAKS,KAC5CF,GAAS,IAGf,UAGID,QAAQI,IAAIZ,GAElBX,EAAQqB,OAAQ,CAGlB,CAFE,MAAOG,GACPxB,EAAQqB,OAAQ,CAClB,KAGF,MAAMI,GAAgBC,EAAAA,EAAAA,KAAS,IACtBxB,EAAMmB,MAAMM,QAAQd,GACzBA,EAAKe,MAAMC,cAAcC,SAAS1B,EAAWiB,MAAMQ,mB,0qGC1LvD,MAAME,EAAc,EAEpB,O,sGCGO,MAAMC,GAAiBC,EAAAA,EAAAA,GAAa,CACzCC,WAAY,CAACC,OAAQC,QACrBC,UAAW,CAACF,OAAQC,SACnB,SAEI,SAASE,EAAUC,EAAmBC,GAC3C,MAAMC,EAAoD,CAAC,EACrDC,EAAmBC,GAA2B,KAElD,IAAKC,EAAAA,GAAY,OAAOzB,QAAQC,SAAQ,GAExC,MAAMyB,EAAkB,cAATF,EAQf,OANAF,EAAOP,YAAcY,OAAOC,aAAaN,EAAOP,mBACzCO,EAAOP,WAEdO,EAAOJ,WAAaS,OAAOC,aAAaN,EAAOJ,kBACxCI,EAAOJ,UAEP,IAAIlB,SAAQC,IACjB,MAAM4B,EAAQC,SAASV,EAAMI,IAAS,EAAG,IAEzCF,EAAOE,GAAQG,OAAOI,YAAW,KAC/BV,IAAKK,GACLzB,EAAQyB,EAAO,GACdG,EAAM,GACT,EAGJ,MAAO,CACLG,cAAeT,EAAgB,cAC/BU,aAAcV,EAAgB,aAElC,C","sources":["webpack://vue3temp/./src/views/dashboard/myTravelPage.vue","webpack://vue3temp/./src/views/dashboard/myTravelPage.vue?7bfb","webpack://vue3temp/../../src/composables/delay.ts"],"sourcesContent":["<template>\n  <v-container>\n    <v-row v-if=\"!loading\">\n      <v-col cols=\"12\" lg=\"12\" md=\"12\" sm=\"12\" xs=\"12\" class=\"text-left\">\n        <v-btn color=\"primary\" to=\"addTravel\"\n          >اضافة رحلة <v-icon>mdi-plus</v-icon></v-btn\n        >\n      </v-col>\n      <v-col class=\"text-center\" v-if=\"plans.length == 0\">\n        لا يوجد عناصر لعرضها\n      </v-col>\n      <v-col\n        v-motion\n        :initial=\"{ opacity: 0, x: 100 }\"\n        :enter=\"{\n          opacity: 1,\n          x: 0,\n          scale: 1,\n          transition: {\n            duration: 500,\n          },\n        }\"\n        :variants=\"{ custom: { scale: 2 } }\"\n        :delay=\"500\"\n        cols=\"12\"\n        lg=\"12\"\n        md=\"12\"\n        sm=\"12\"\n        xs=\"12\"\n        class=\"\"\n      >\n        <v-text-field\n        v-model=\"searchText\"\n          theme=\"light\"\n          variant=\"solo\"\n          prepend-inner-icon=\"mdi-magnify\"\n          placeholder=\"اكتب للبحث\"\n          density=\"comfortable\"\n          color=\"primary\"\n          clearable\n          rounded=\"xl\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n        v-for=\"plan in filteredPlans\"\n        :key=\"plan.id\"\n        cols=\"12\"\n        lg=\"4\"\n        md=\"4\"\n        sm=\"12\"\n        xs=\"12\"\n      >\n        <v-hover>\n          <template v-slot:default=\"{ isHovering, props }\">\n            <v-card\n              rounded=\"lg\"\n              v-bind=\"props\"\n              :color=\"isHovering ? 'primary' : undefined\"\n              elevation=\"2\"\n              :loading=\"loading\"\n              class=\"mx-auto\"\n            >\n              <template v-slot:loader=\"{ isActive }\">\n                <v-progress-linear\n                  :active=\"isActive\"\n                  color=\"primary\"\n                  height=\"4\"\n                  indeterminate\n                ></v-progress-linear>\n              </template>\n\n              <v-img cover height=\"250\" :src=\"plan.imageUrl\"></v-img>\n\n              <v-card-item>\n                <v-card-title>{{ plan.title }}</v-card-title>\n\n                <v-card-subtitle>\n                  <span class=\"me-1\"\n                    >{{ plan.places[0].address.country }} ,\n                    {{ plan.places[0].address.city }}</span\n                  >\n\n                  <v-icon\n                    color=\"error\"\n                    icon=\"mdi-fire-circle\"\n                    size=\"small\"\n                  ></v-icon>\n                </v-card-subtitle>\n              </v-card-item>\n\n              <v-card-text>\n                <v-row align=\"center\" class=\"mx-0\">\n                  <v-rating\n                    :model-value=\"4.5\"\n                    color=\"amber\"\n                    density=\"compact\"\n                    half-increments\n                    readonly\n                    size=\"small\"\n                  ></v-rating>\n\n                  <div class=\"text-grey ms-4\">4.5 (413)</div>\n                </v-row>\n\n                <div class=\"my-4 text-subtitle-1\">\n                  {{ plan.price }} دينار عراقي للشخص\n                </div>\n\n                <div>\n                  من\n\n                  {{ plan.dateFrom }}\n                  الى\n                  {{ plan.dateTo }}\n                  <p class=\"pb-2\">عدد الاشخاص : {{ plan.memberNumber }}</p>\n                  <p :class=\"isHovering ? '':'text-grey'\">{{ plan.description }}</p>\n                </div>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-btn\n                  :color=\"isHovering ? undefined : 'primary'\"\n                  variant=\"text\"\n                  :to=\"'travelDetails/' + plan.id\"\n                >\n                  المزيد\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </template>\n        </v-hover>\n      </v-col>\n      <v-col cols=\"12\" lg=\"12\" md=\"12\" sm=\"12\" xs=\"12\">\n        <div class=\"text-center\">\n          <v-pagination\n            rounded=\"circle\"\n            v-model=\"page\"\n            :length=\"1\"\n            :total-visible=\"3\"\n          ></v-pagination></div\n      ></v-col>\n    </v-row>\n    <div class=\"loading-container\" v-if=\"loading\">\n      <v-progress-circular\n        :size=\"70\"\n        color=\"primary\"\n        indeterminate\n      ></v-progress-circular>\n    </div>\n  </v-container>\n</template>\n<script setup>\nimport { onMounted, ref, computed } from \"vue\";\nimport { useCounterStore } from \"@/store/index.js\";\nimport { db } from \"../../firebase.js\";\nimport { getDocs, collection } from \"firebase/firestore\";\n\nconst store = useCounterStore();\nconst loading = ref(true);\nconst plans = ref([]);\nconst page = ref(1);\nconst searchText = ref(\"\");\n\n\nonMounted(async () => {\n  try {\n    const planCollection = await getDocs(collection(db, \"travelPlans\"));\n\n    const promises = [];\n\n    planCollection.forEach((plan) => {\n      if (plan.data().creatorUserId === store.userData.uid) {\n        promises.push(\n          new Promise((resolve) => {\n            plans.value.push({ ...plan.data(), id: plan.id });\n            resolve();\n          })\n        );\n      }\n    });\n\n    await Promise.all(promises);\n\n    loading.value = false;\n  } catch (error) {\n    loading.value = false;\n  }\n});\n\nconst filteredPlans = computed(() => {\n  return plans.value.filter((plan) =>\n    plan.title.toLowerCase().includes(searchText.value.toLowerCase())\n  );\n});\n</script>\n<style>\n.loading-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 80vh;\n}\n</style>\n","import script from \"./myTravelPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./myTravelPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./myTravelPage.vue?vue&type=style&index=0&id=843d1f2e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","// Utilities\nimport { IN_BROWSER, propsFactory } from '@/util'\n\n// Types\nexport interface DelayProps {\n  closeDelay?: number | string\n  openDelay?: number | string\n}\n\n// Composables\nexport const makeDelayProps = propsFactory({\n  closeDelay: [Number, String],\n  openDelay: [Number, String],\n}, 'delay')\n\nexport function useDelay (props: DelayProps, cb?: (value: boolean) => void) {\n  const delays: Partial<Record<keyof DelayProps, number>> = {}\n  const runDelayFactory = (prop: keyof DelayProps) => (): Promise<boolean> => {\n    // istanbul ignore next\n    if (!IN_BROWSER) return Promise.resolve(true)\n\n    const active = prop === 'openDelay'\n\n    delays.closeDelay && window.clearTimeout(delays.closeDelay)\n    delete delays.closeDelay\n\n    delays.openDelay && window.clearTimeout(delays.openDelay)\n    delete delays.openDelay\n\n    return new Promise(resolve => {\n      const delay = parseInt(props[prop] ?? 0, 10)\n\n      delays[prop] = window.setTimeout(() => {\n        cb?.(active)\n        resolve(active)\n      }, delay)\n    })\n  }\n\n  return {\n    runCloseDelay: runDelayFactory('closeDelay'),\n    runOpenDelay: runDelayFactory('openDelay'),\n  }\n}\n"],"names":["store","useCounterStore","loading","ref","plans","page","searchText","onMounted","async","planCollection","getDocs","collection","db","promises","forEach","plan","data","creatorUserId","userData","uid","push","Promise","resolve","value","id","all","error","filteredPlans","computed","filter","title","toLowerCase","includes","__exports__","makeDelayProps","propsFactory","closeDelay","Number","String","openDelay","useDelay","props","cb","delays","runDelayFactory","prop","IN_BROWSER","active","window","clearTimeout","delay","parseInt","setTimeout","runCloseDelay","runOpenDelay"],"sourceRoot":""}